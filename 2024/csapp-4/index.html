<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="https://www.facebook.com/2008/fbml" xmlns:og="http://ogp.me/ns#">
 <head>
  <title>
   [CSAPP] 第3章 程序的机器级表示 - Chongan's website
  </title>
  <!-- Using the latest rendering mode for IE -->
  <meta content="IE=edge" http-equiv="X-UA-Compatible"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <link href="../../image/favicon.ico" rel="icon"/>
  <link href="../../css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
  <link href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" type="text/css"/>
  <link href="../../css/vs.css" rel="stylesheet" type="text/css"/>
  <link href="../../css/style.css" rel="stylesheet" type="text/css"/>
 </head>
 <body>
  <!-- navbar -->
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
   <div class="container">
    <div class="navbar-header">
     <button class="navbar-toggle" data-target=".navbar-ex1-collapse" data-toggle="collapse" type="button">
      <span class="sr-only">
       Toggle navigation
      </span>
      <span class="icon-bar">
      </span>
      <span class="icon-bar">
      </span>
      <span class="icon-bar">
      </span>
     </button>
     <a class="navbar-brand" href="https://guchongan.github.io/">
      <img height="32" src="../../image/favicon-32x32.png" width="32"/>
      Gu Chongan's website
     </a>
    </div>
    <div class="collapse navbar-collapse navbar-ex1-collapse">
     <ul class="nav navbar-nav navbar-right">
      <li>
       <a href="https://guchongan.github.io/about">
        <i class="fa fa-question">
        </i>
        <span class="icon-label">
         About
        </span>
       </a>
      </li>
      <li>
       <a href="https://guchongan.github.io/projects">
        <i class="fa fa-github">
        </i>
        <span class="icon-label">
         Projects
        </span>
       </a>
      </li>
      <li>
       <a href="https://guchongan.github.io/archives">
        <i class="fa fa-th-list">
        </i>
        <span class="icon-label">
         Archives
        </span>
       </a>
      </li>
     </ul>
    </div>
   </div>
  </div>
  <div class="container">
   <div class="row">
    <section id="content">
     <article>
      <header class="page-header">
       <h1>
        <a href="https://guchongan.github.io/2024/[CSAPP] 第3章 程序的机器级表示" rel="bookmark" title="[CSAPP] 第3章 程序的机器级表示">
         [CSAPP] 第3章 程序的机器级表示
        </a>
       </h1>
      </header>
      <div class="entry-content">
       <div class="panel">
        <div class="panel-body">
         <footer class="post-info">
          <span class="published">
           <i class="fa fa-calendar">
           </i>
           <time>
            2024.05.29
           </time>
          </span>
          <span class="label label-default">
           Tags
          </span>
          <html>
           <body>
            <a>
             read
            </a>
           </body>
          </html>
         </footer>
         <!-- /.post-info -->
        </div>
       </div>
       <!-- /.entry-content -->
       <html>
        <body>
         <p>
          刚读完了CSAPP的第3章程序的机器级表示，也完成了对应的两个lab（boom lab和attrack lab），总结阅读和实验过程中的收获如下，
         </p>
         <h2>
          知识整理
         </h2>
         <h3>
          3.1-3 历史观点\程序编码\数据格式
         </h3>
         <p>
          没什么好总结的，都是些概念性的东西
         </p>
         <h3>
          3.4 访问信息
         </h3>
         <ul>
          <li>
           <p>
            整数寄存器
           </p>
          </li>
          <li>
           <p>
            寻址方式
           </p>
          </li>
          <li>
           <p>
            数据传送指令（mov，movzbw，movsbw，cltq %eax符号扩展到%rax）
           </p>
          </li>
          <li>
           <p>
            栈操作（push，pop）
           </p>
          </li>
         </ul>
         <h3>
          3.5 算数和逻辑操作
         </h3>
         <ul>
          <li>
           算数和逻辑操作指令（leaq，sal/shl，sar算数右移/shr逻辑右移）
          </li>
          <li>
           特殊操作（imul，mul，idiv，div，cqto %rax符号扩展到%rdx:%rax）
          </li>
         </ul>
         <h3>
          3.6 控制
         </h3>
         <ul>
          <li>
           条件码（CF，ZF，SF，OF）
          </li>
          <li>
           比较和测试指令（cmp，test）
          </li>
          <li>
           SET指令（setz D：D &lt;- ZF）
          </li>
          <li>
           跳转指令（jmp）
          </li>
          <li>
           条件分支的实现（跳转，条件传送）
          </li>
          <li>
           循环（do-while，while，for）
          </li>
          <li>
           switch（跳转表）
          </li>
         </ul>
         <h3>
          3.7 过程
         </h3>
         <ul>
          <li>
           运行时栈
          </li>
          <li>
           控制转移（call，ret）
          </li>
          <li>
           数据传送（%rdi %rsi %rdx %rcx，栈 16(%rsp)）
          </li>
          <li>
           栈上的存储（局部变量，数组）
          </li>
          <li>
           寄存器的保存（调用者\被调用者保存）
          </li>
          <li>
           递归
          </li>
         </ul>
         <h3>
          3.8-9 数组分配和访问\异质的数据结构
         </h3>
         <ul>
          <li>
           <p>
            数组地址计算
           </p>
          </li>
          <li>
           <p>
            结构体（对齐 K字节的对象地址是K的倍数）
           </p>
          </li>
         </ul>
         <h3>
          3.10 机器级程序
         </h3>
         <ul>
          <li>
           GDB的使用（layout asm/regs/src）
          </li>
          <li>
           内存越界和缓存溢出
          </li>
         </ul>
         <h3>
          3.11 浮点代码
         </h3>
         <ul>
          <li>
           浮点寄存器（%ymm0-15）
          </li>
          <li>
           和整数操作类似
          </li>
         </ul>
         <h2>
          实验总结
         </h2>
         <h3>
          1 boom lab
         </h3>
         <p>
          在完成boom lab之前，对这一实验的大名早有耳闻，花了两天的时间把它完成后，确实感叹于世界顶级的计算机课程实验的设计。boom lab以一种有趣且强制的方式，让学生学会了三样东西，
         </p>
         <ul>
          <li>
           GDB的使用
          </li>
          <li>
           机器代码的阅读
          </li>
          <li>
           机器代码和高级语言程序的对应
          </li>
         </ul>
         <p>
          这个实验最难的其实是入手的时候，在没有熟练掌握打断点，单步执行机器指令等GDB基本操作之前，我也不小心把Boom弄炸了一次。但是在炸了一次之后，我学会了使用layout asm/regs实时查看代码和寄存器变化，后面几个任务因为之前其实学过一遍汇编语言，所以还算简单，当然最后一个任务还是有点繁琐，机器代码确实不应该由人来阅读和模拟。
         </p>
         <h3>
          2 attrack lab
         </h3>
         <p>
          之前上操作系统或者类似的课程的时候，经常听说缓冲区溢出攻击之类的操作，但是都是耳朵上听了一下，实际的实验却一次也没有过，这次完成了attrack lab才切切实实的了解到缓冲区溢出攻击到底是如何操作的。
         </p>
         <p>
          总的来说，这个lab的难度相对较低，除了最后一个任务有些繁琐之外，其他几个任务都是按部就班就可以完成的，在完成这个lab的过程中，又更进一步的锻炼了GDB的使用，机器级程序的理解。
         </p>
        </body>
       </html>
      </div>
      <hr/>
      <div class="dotted-links">
       <p class="align-center">
        For comments, please send me
        <a href="hu197136@gmail.com">
         <i class="fa fa-envelope-o">
         </i>
         an email
        </a>
        .
       </p>
      </div>
     </article>
    </section>
   </div>
  </div>
  <footer>
   <div class="container">
    <hr/>
    <div class="row">
     <div class="col-xs-10">
      © 2024-2024 Gu Chongan
     </div>
     <div class="col-xs-2">
      <p class="pull-right">
       <i class="fa fa-arrow-up">
       </i>
       <a href="#">
        Back to top
       </a>
      </p>
     </div>
    </div>
   </div>
  </footer>
  <script src="../../css/jquery-2.2.4.min.js">
  </script>
  <script src="../../css/bootstrap.min.js">
  </script>
  <script type="text/x-mathjax-config">
   var articlemathId = document.getElementById("articleContent");
	var commentmathId = document.getElementById("commentlist-container");
	MathJax.Hub.Config({
		tex2jax: {
			inlineMath: [ ['$','$'] ], //行内公式
			displayMath: [ ['$$','$$'] ], //行间公式
			skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a'], //渲染时跳过的html标签
			ignoreClass: "summary", //忽略的class
		}
	});
	MathJax.Hub.Queue(["Typeset", MathJax.Hub, articlemathId, commentmathId]); //指定渲染的html块，可以为多个
  </script>
  <script src="https://cdn.bootcss.com/mathjax/2.7.7/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
 </body>
</html>
